<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ExpenseTracker.Views.EditDeleteExpensePage"
             
             Title="Edit/Delete Expense">
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="X" 
                     Command="{Binding CancelCommand}" 
                     Order="Primary" 
                     
                     Priority="0" />
    </ContentPage.ToolbarItems>
    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <Label Text="Amount" FontAttributes="Bold" TextColor="#333333"/>
            <Entry Placeholder="Enter amount" 
                   Keyboard="Numeric" 
                   Text="{Binding Amount, Mode=TwoWay}" 
                   Style="{StaticResource InputEntryStyle}" />

            <Label Text="Category" FontAttributes="Bold" TextColor="#333333"/>
            <Picker ItemsSource="{Binding Categories}" 
                    SelectedItem="{Binding SelectedCategory, Mode=TwoWay}" 
                    Title="Select Category"
                    Style="{StaticResource InputPickerStyle}"/>

            <Label Text="Date" FontAttributes="Bold" TextColor="#333333"/>
            <DatePicker Date="{Binding SelectedDate, Mode=TwoWay}" 
                        Style="{StaticResource InputDatePickerStyle}"/>

            <Label Text="Description (Max 200 chars)" FontAttributes="Bold" TextColor="#333333"/>
            <Editor Placeholder="Optional description" 
                    AutoSize="TextChanges" 
                    MaxLength="200" 
                    Text="{Binding Description, Mode=TwoWay}" 
                    HeightRequest="100" 
                    Style="{StaticResource InputEditorStyle}"/>

            <Label Text="{Binding ErrorMessage}" 
                   TextColor="#D32F2F" 
                   FontAttributes="Bold" 
                   IsVisible="{Binding HasError}" 
                   HorizontalOptions="Center" 
                   Margin="0, 10"/>

            <!-- Action Buttons -->
            <Grid ColumnDefinitions="*, *" ColumnSpacing="15" Margin="0, 20, 0, 0">

                <Button Grid.Column="0" 
                        Text="Update Expense" 
                        Command="{Binding SaveCommand}" 
                        BackgroundColor="#2196F3" 
                        TextColor="White" 
                        CornerRadius="8" 
                        HeightRequest="50"/>

                <Button Grid.Column="1" 
                        Text="Delete Expense" 
                        Command="{Binding DeleteCommand}" 
                        BackgroundColor="#F44336" 
                        TextColor="White" 
                        CornerRadius="8" 
                        HeightRequest="50"/>
            </Grid>

        </VerticalStackLayout>
    </ScrollView>


</ContentPage>